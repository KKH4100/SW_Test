구슬 탈출 2

입력 : N, M, 보드

초기 조건 : N M 모두 3 이상 10 이하 | 보드의 경계 모두 '#'로 구성되어있음


모든 구슬 한 방향으로 이동시킬 때 더 이상 이동할 수 없을 때까지 이동한다고 생각해보자.
Red Bead, Blue Bead 각각의 보드 상 좌표 rx, ry, bx, by라 하자.
수 없이 많이 굴리면서 {rx, ry, bx, by}를 중복해서 방문할 가능성 존재한다.
=> 중복해서 방문한다면 무한 Loop 빠질 수 있어, BFS를 통해 중복되지 않는 경우만 queue에 포함시킨다.

BFS solution :

queue에 존재하는 structure는 해당 시점에서 구슬들의 위치 rx, ry, bx, by, 이동한 횟수이다.
FIFO인 queue의 front에서 queue pop하여 해당 시점에서 더 도달할 수 있는 경우를 고려한다.
생각해야할 조건은 아래와 같다.
1. 구슬들은 상하좌우 모든 방향으로 움직일 수 있다.
2. 파란 구슬이 'O'에 도달할 경우 멈추고 다른 방향에 대해서 시도해봐야한다.
2.1. 빨간 구슬이 'O'에 도달한 경우 끝이다. 하지만 파란 구슬이 'O'에 도달한다면 단순히 해당 방향으로 이동하는 게 정답이 아니므로 queue에 추가하지 않고 다른 방향에 대해서 시도해본다.
3. 빨간 구슬이 'O'에 도달할 경우 멈추고 해당 시점에서 이동한 횟수 return 해야한다.
4. 구슬들은 각각 1X1의 크기를 차지하므로 위치 겹칠 수 없다. 고정한 방향에 대해 각 구슬이 끝까지 이동했을 때 끝에서 위치 겹치는 경우 고려해서 한 구슬 위치 바로 이전으로 이동시켜야한다.

BFS time complexity = O(V+E)이다. 
V=N*M이고, 각 방향으로 이동할 수 있으므로 E는 대략 4*N*M이다. 그에 따라 O(N*M+4*N*M) = O(N*M)이 된다.
N은 최대 10이므로 해당 문제 시간 제한 2 second에 충분히 만족할 solution이다.
